**Файл** — это данные или программа, имеющие имя и хранящиеся в долговременной памяти как единое целое.

**Каталог** - это особый тип файла, предназначенный для хранения информации, которая необходима для доступа к файлам или другим каталогам.

Все основные классы, которые предназначены для работы с файлами и каталогами находятся в пространстве имен **System.IO**, поэтому в начале программы нужно подключить это пространство:
```cs
using System.IO;
```
## Работа с файлами

Для работы с файлами в System.IO предназначена пара классов **File** и **FileInfo**. С их помощью мы можем создавать, удалять, перемещать файлы, получать их свойства и многое другое.

### Путь к файлу

**Никогда не нужно использовать** абсолютные пути к файлам. Всегда нужно использовать относительные пути файлов. Самый простой вариант - относительные пути от исполняемого файла программы.
И если положить текстовый файл в той же папке, что и исполняемый файл, то можно к нему обратиться так:

```cs
string[] lines = File.ReadAllLines(@".\example.txt");
```

`.` - означает, что нужно искать файл в текущей директории (текущей для исполняемого файла) 
`..` - подняться на один уровень выше:
```cs
string[] lines = File.ReadAllLines(@"..\..\..\..\example.txt");
```

### Запись текста в файл

```cs
File.WriteAllText("путь_до_файла", "текст");

File.WriteAllLines("путь_до_файла", new string[]
{
	"бла-бла-бла"
	"ноги бреешь?"
	"текст"
});

//Записывает массив байтов в бинарном виде в файл
File.WriteAllBytes("путь_до_файла", new byte[кол-во_байтов]);
```

### Чтение текста из файла

```cs
string text = File.ReadAllText("1.txt");

string[] lines = File.ReadAllLines("путь_до_файла");

//если файл очень бальшой, то можно использовать класс StreamReader
List<string> lines = new List<string>();
StreamReader sr = new StreamReader("путь до файла");
while(!sr.EndOfStream)
{
    lines.Add(sr.ReadLine());
}
```
## Работа с каталогами

Для каталогов существует класс **Directory**.
Так можно узнать названия всех файлов в рабочем каталоге: 
```cs
foreach (var file in Directory.GetFiles("."))
	Console.WriteLine(file);
```
А так можно узнать название рабочего каталога:
```cs
Console.WriteLine(Enviroment.CurrentDirectory);
```

Размещение запущенного exe-файла можно узнать так:
```cs
Console.WriteLine(Assembly.GetExecutingAssembly().Location);
```

## Кодировка

Метод `WriteAllFile` записывает файл в кодировке UTF-8, однако он не добавляет маркер этой кодировки (BOM — ByteOrderMark), который при чтении файла используется для авто-детекции кодировки. Поэтому чтобы избежать ошибок с отображением текста, нужно использовать метод `WriteAllFile` с перегрузкой:
```cs
File.WriteAllText("путь_до_файла", "текст", System.Text.Encoding.UTF8);
```